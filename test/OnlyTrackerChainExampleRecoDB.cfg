process TrackerValidationReco  = {
    
    # initialize  MessageLogger
    include "FWCore/MessageLogger/data/MessageLogger.cfi"   
    
    # initialize magnetic field
    include "Configuration/StandardSequences/data/Geometry.cff"
    include "Configuration/StandardSequences/data/MagneticField.cff"
    
    #Fake Conditions
    include "Configuration/StandardSequences/data/FakeConditions.cff"

    untracked PSet maxEvents = {untracked int32 input = 5}

#Tracker geometry from database.
    es_source = PoolDBESSource {
        VPSet toGet = {
            { string record = "PGeometricDetRcd"
                string tag = "PGeometricDet"}
        }
        bool loadAll = true
        string connect = "sqlite_file:test.db"
        string timetype = "runnumber"
#        untracked string catalog = "file:testcatalog.xml"
        PSet DBParameters = {
            untracked string authenticationPath="."
            untracked int32 messageLevel=0
        }
    }
    include "Geometry/TrackerNumberingBuilder/data/trackerNumberingGeometry.cfi"
    include "Geometry/TrackerGeometryBuilder/data/trackerGeometry.cfi"
    replace  TrackerGeometricDetESModule.fromDDD = false
    replace  TrackerDigiGeometryESModule.fromDDD = false 

#    source = FlatRandomEGunSource
#    {
#	untracked PSet PGunParameters =
#	{
#	    # you can request more than 1 particle
#	    # since PartID is a vector, you can place in as many 
#	    # PDG id's as you wish, comma seaparated
#	    #
#	    untracked vint32 PartID = { 13 }
#	    untracked double MinEta = -2.7
#	    untracked double MaxEta = 2.7
#	    untracked double MinPhi = -3.14159265358979323846 # in radians
#	    untracked double MaxPhi =  3.14159265358979323846
#	    untracked double MinE  = 10.
#	    untracked double MaxE  = 10.
#	}
#	untracked bool AddAntiParticle = true # back-to-back particles
#	untracked int32 Verbosity = 0 # set to 1 (or greater)  for printouts
#   }

    module o1 = PoolOutputModule { 
	untracked vstring outputCommands = { "keep *" }
	untracked string fileName = "MuonTrackerOnlyRecoDBase.root"      
    }
    
    # DQM services
    include "DQMServices/Core/data/DQM.cfg"
    replace DQM.collectorHost = ""

    
#    service = RandomNumberGeneratorService
#    {
#	untracked uint32 sourceSeed = 135799753
#	PSet moduleSeeds = 
#	{
#	    untracked uint32 VtxSmeared = 123456789
#	    untracked uint32 g4SimHits = 194098651
#	    untracked uint32 mix = 9823 
#	    untracked uint32 siStripDigis = 563
#	    untracked uint32 siPixelDigis = 653
#	}
#    }
    
 #   include "SimG4Core/Configuration/data/SimG4Core.cff"
    
#    include "SimGeneral/HepPDTESSource/data/pythiapdt.cfi"			
    
    # Mixing Module
#    include "SimGeneral/MixingModule/data/mixNoPU.cfi"
    
    # TRACKER digitization sequence
#    include "SimTracker/Configuration/data/SimTracker.cff" 
    
    # TRACKER reconstruction sequence
    include "Configuration/StandardSequences/data/Reconstruction.cff"
    include "RecoTracker/TrackProducer/data/RefitterWithMaterial.cff"
    replace TrackRefitter.TrajectoryInEvent = true

#    sequence simhits = {g4SimHits}
#    sequence digis = {trDigi}
    sequence rechits = {trackerlocalreco}
    sequence tracks = {offlineBeamSpot,recopixelvertexing, ckftracks, rstracks}
    sequence trackinghits = {TrackRefitter}
    
    #{ simhits , mix , digis ,
    path p1 =  { rechits, tracks, trackinghits}
    
    endpath outpath = { o1 }

    source = PoolSource {
        untracked vstring fileNames = {'file:MuonTrackerOnlySim.root'}
#        untracked uint32 skipEvents =
    }    
}		
